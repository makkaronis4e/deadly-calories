var H=Object.defineProperty;var V=(t,e,s)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var r=(t,e,s)=>(V(t,typeof e!="symbol"?e+"":e,s),s);import{d as w,c as m,a as o,t as u,F as j,r as S,o as c,n as P,_ as C,b as g,e as _,K as b,p as E,f as G,g as B,h as v,i as Y,j as D,u as p,k as L,w as X,l as x,m as K}from"./index-CZ9KRCzH.js";const N=["Kano","Sektor","LiuKang","Sonya","KungLao","Smoke"];var h=(t=>(t.Dead="dead",t.Damaged="damaged",t.Static="static",t.Normal="",t))(h||{});class z{constructor(e,s=5){r(this,"name");r(this,"animatedImage");r(this,"staticImage");r(this,"eating",!1);r(this,"health");r(this,"round",0);r(this,"log",[]);this.name=e,this.animatedImage=`../assets/img/fighters/${h.Normal}/${e.toLowerCase()}.gif`,this.staticImage=`../assets/img/fighters/${h.Static}/${e.toLowerCase()}.png`,this.health=s}calories(){return this.health}get isAlive(){return this.health>0}eat(e){this.isAlive&&(this.round+=1,this.eating=!0,setTimeout(()=>{e.poisoned?(this.health-=e.calories,this.writeLog(`Poisoned cookie! Lost ${e.calories} calories!`)):(this.health+=e.calories,this.writeLog(`Om-nom-nom! Got ${e.calories} calories!`)),this.eating=!1,this.burnCalories()},1e3))}updateAnimation(){const e=this.health<=0?h.Dead:this.health<3?h.Damaged:h.Normal;this.animatedImage=`./src/assets/img/fighters/${e}/${this.name.toLowerCase()}.gif`}burnCalories(){this.health-=1,this.updateAnimation(),this.writeLog("Round ended. Burned 1 calorie!"),this.health<=0&&this.writeLog("Fighter is dead!")}writeLog(e){const s=this.log.find(i=>i.round===this.round);if(!s){this.log.push({round:this.round,events:[e]});return}s.events.push(e)}}const J={class:"fighters-wrapper"},O={class:"preview"},y=["src"],q={class:"preview__name"},I={class:"grid"},M=["onClick"],R=["src","alt"],Q=w({__name:"FighterGrid",props:{fighters:Array,activeFighter:z},emits:["fighterSelected"],setup(t){const e=t,s=i=>new URL(i,import.meta.url).href;return(i,l)=>{var d,n;return c(),m("div",J,[o("div",O,[o("img",{src:s((d=e.activeFighter)==null?void 0:d.animatedImage),alt:"Active Fighter"},null,8,y),o("div",q,u((n=e.activeFighter)==null?void 0:n.name),1)]),o("div",I,[(c(!0),m(j,null,S(e.fighters,a=>{var f;return c(),m("div",{class:P(["grid__item",{active:((f=e.activeFighter)==null?void 0:f.name)===a.name}]),onClick:()=>i.$emit("fighterSelected",a),key:a.name},[o("img",{src:s(a.staticImage),alt:a.name},null,8,R)],10,M)}),128))])])}}}),T=C(Q,[["__scopeId","data-v-a5954767"]]),U="/deadly-calories/assets/poison-CYDttVe_.webp",k="data:image/webp;base64,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",A=t=>(E("data-v-03d25e3a"),t=t(),G(),t),$={class:"config-wrapper"},Z={class:"control"},W={class:"control__header"},ee=A(()=>o("img",{src:U,alt:"Poison"},null,-1)),te={class:"control"},se={class:"control__header"},oe=A(()=>o("img",{src:k,alt:"Health points"},null,-1)),ie={class:"control"},ae={class:"control__header"},ne=w({__name:"CompetitionConfig",props:{configForm:Object},setup(t){const e=t;return(s,i)=>{const l=_("v-text-field"),d=_("v-range-slider");return c(),m("div",$,[o("div",Z,[o("div",W,[ee,o("span",null,u(s.$t("config.poison_chance")),1)]),g(l,{modelValue:e.configForm.poisonChance,"onUpdate:modelValue":i[0]||(i[0]=n=>e.configForm.poisonChance=n),modelModifiers:{number:!0},"hide-details":"",max:"0.1",min:"0.9","single-line":""},null,8,["modelValue"])]),o("div",te,[o("div",se,[oe,o("span",null,u(s.$t("config.initial_calories")),1)]),g(l,{modelValue:e.configForm.startingCalories,"onUpdate:modelValue":i[1]||(i[1]=n=>e.configForm.startingCalories=n),modelModifiers:{number:!0},"hide-details":"",max:10,min:3,"single-line":""},null,8,["modelValue"])]),o("div",ie,[o("div",ae,[g(b,{size:"24"}),o("span",null,u(s.$t("config.calories_range")),1)]),g(d,{modelValue:e.configForm.caloriesRange,"onUpdate:modelValue":i[2]||(i[2]=n=>e.configForm.caloriesRange=n),max:"3",min:"0.1",step:"0.1","thumb-size":"10",class:"align-center","thumb-label":"always"},null,8,["modelValue"])])])}}}),re=C(ne,[["__scopeId","data-v-03d25e3a"]]),le=B("config",{state:()=>({config:{caloriesRange:[.2,2],poisonChance:.2,startingCalories:5}}),actions:{updateConfig(t){this.config=t}}}),ce={key:0,class:"left-col"},de={class:"title"},he={class:"right-col"},ge={class:"fighters-grid"},me=w({__name:"Config",setup(t){let e=v([]),s=v(null);const i=le(),l=v({caloriesRange:[.2,2],poisonChance:.2,startingCalories:5});Y(()=>{e.value=N.map(a=>new z(a)),s.value=e.value[0]});const d=a=>{s.value=a},n=a=>{i.updateConfig(l.value)};return(a,f)=>{const F=_("v-btn");return c(),m("form",{class:"wrapper",onSubmit:x(n,["prevent"])},[l.value?(c(),m("div",ce,[o("h3",de,u(a.$t("config.create_config")),1),g(re,{"config-form":l.value},null,8,["config-form"])])):D("",!0),o("div",he,[o("div",ge,[p(s)?(c(),L(T,{key:0,onFighterSelected:d,"active-fighter":p(s),fighters:p(e)},null,8,["active-fighter","fighters"])):D("",!0)]),g(F,{type:"submit",class:"start",size:"x-large",color:"var(--mk-main-color)"},{default:X(()=>[K(u(a.$t("config.serve")),1)]),_:1})])],32)}}}),ve=C(me,[["__scopeId","data-v-84edd615"]]);export{ve as default};
