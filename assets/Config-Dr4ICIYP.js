var F=Object.defineProperty;var H=(t,e,s)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var l=(t,e,s)=>(H(t,typeof e!="symbol"?e+"":e,s),s);import{d as _,c as m,a as o,t as f,F as V,r as j,o as c,n as S,_ as w,b as g,e as p,K as P,p as b,f as E,g as G,h as u,i as B,j as C,u as v,k as Y,w as X,l as x,m as L}from"./index-DOrHmIr0.js";const K=["Kano","Sektor","LiuKang","Sonya","KungLao","Smoke"];var h=(t=>(t.Dead="dead",t.Damaged="damaged",t.Static="static",t.Normal="",t))(h||{});class D{constructor(e,s=5){l(this,"name");l(this,"animatedImage");l(this,"staticImage");l(this,"eating",!1);l(this,"health");l(this,"round",0);l(this,"log",[]);this.name=e,this.animatedImage=`./src/assets/img/fighters/${h.Normal}/${e.toLowerCase()}.gif`,this.staticImage=`./src/assets/img/fighters/${h.Static}/${e.toLowerCase()}.png`,this.health=s}calories(){return this.health}get isAlive(){return this.health>0}eat(e){this.isAlive&&(this.round+=1,this.eating=!0,setTimeout(()=>{e.poisoned?(this.health-=e.calories,this.writeLog(`Poisoned cookie! Lost ${e.calories} calories!`)):(this.health+=e.calories,this.writeLog(`Om-nom-nom! Got ${e.calories} calories!`)),this.eating=!1,this.burnCalories()},1e3))}updateAnimation(){const e=this.health<=0?h.Dead:this.health<3?h.Damaged:h.Normal;this.animatedImage=`./src/assets/img/fighters/${e}/${this.name.toLowerCase()}.gif`}burnCalories(){this.health-=1,this.updateAnimation(),this.writeLog("Round ended. Burned 1 calorie!"),this.health<=0&&this.writeLog("Fighter is dead!")}writeLog(e){const s=this.log.find(a=>a.round===this.round);if(!s){this.log.push({round:this.round,events:[e]});return}s.events.push(e)}}const N={class:"fighters-wrapper"},J={class:"preview"},O=["src"],y={class:"preview__name"},q={class:"grid"},I=["onClick"],M=["src","alt"],R=_({__name:"FighterGrid",props:{fighters:Array,activeFighter:D},emits:["fighterSelected"],setup(t){const e=t;return(s,a)=>{var r,d;return c(),m("div",N,[o("div",J,[o("img",{src:(r=e.activeFighter)==null?void 0:r.animatedImage,alt:"Active Fighter"},null,8,O),o("div",y,f((d=e.activeFighter)==null?void 0:d.name),1)]),o("div",q,[(c(!0),m(V,null,j(e.fighters,i=>{var n;return c(),m("div",{class:S(["grid__item",{active:((n=e.activeFighter)==null?void 0:n.name)===i.name}]),onClick:()=>s.$emit("fighterSelected",i),key:i.name},[o("img",{src:i.staticImage,alt:i.name},null,8,M)],10,I)}),128))])])}}}),Q=w(R,[["__scopeId","data-v-d51af22c"]]),T="/deadly-calories/assets/poison-CYDttVe_.webp",k="data:image/webp;base64,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",z=t=>(b("data-v-03d25e3a"),t=t(),E(),t),U={class:"config-wrapper"},$={class:"control"},Z={class:"control__header"},W=z(()=>o("img",{src:T,alt:"Poison"},null,-1)),ee={class:"control"},te={class:"control__header"},se=z(()=>o("img",{src:k,alt:"Health points"},null,-1)),oe={class:"control"},ie={class:"control__header"},ae=_({__name:"CompetitionConfig",props:{configForm:Object},setup(t){const e=t;return(s,a)=>{const r=p("v-text-field"),d=p("v-range-slider");return c(),m("div",U,[o("div",$,[o("div",Z,[W,o("span",null,f(s.$t("config.poison_chance")),1)]),g(r,{modelValue:e.configForm.poisonChance,"onUpdate:modelValue":a[0]||(a[0]=i=>e.configForm.poisonChance=i),modelModifiers:{number:!0},"hide-details":"",max:"0.1",min:"0.9","single-line":""},null,8,["modelValue"])]),o("div",ee,[o("div",te,[se,o("span",null,f(s.$t("config.initial_calories")),1)]),g(r,{modelValue:e.configForm.startingCalories,"onUpdate:modelValue":a[1]||(a[1]=i=>e.configForm.startingCalories=i),modelModifiers:{number:!0},"hide-details":"",max:10,min:3,"single-line":""},null,8,["modelValue"])]),o("div",oe,[o("div",ie,[g(P,{size:"24"}),o("span",null,f(s.$t("config.calories_range")),1)]),g(d,{modelValue:e.configForm.caloriesRange,"onUpdate:modelValue":a[2]||(a[2]=i=>e.configForm.caloriesRange=i),max:"3",min:"0.1",step:"0.1","thumb-size":"10",class:"align-center","thumb-label":"always"},null,8,["modelValue"])])])}}}),ne=w(ae,[["__scopeId","data-v-03d25e3a"]]),re=G("config",{state:()=>({config:{caloriesRange:[.2,2],poisonChance:.2,startingCalories:5}}),actions:{updateConfig(t){this.config=t}}}),le={key:0,class:"left-col"},ce={class:"title"},de={class:"right-col"},he={class:"fighters-grid"},ge=_({__name:"Config",setup(t){let e=u([]),s=u(null);const a=re(),r=u({caloriesRange:[.2,2],poisonChance:.2,startingCalories:5});B(()=>{e.value=K.map(n=>new D(n)),s.value=e.value[0]});const d=n=>{s.value=n},i=n=>{a.updateConfig(r.value)};return(n,me)=>{const A=p("v-btn");return c(),m("form",{class:"wrapper",onSubmit:x(i,["prevent"])},[r.value?(c(),m("div",le,[o("h3",ce,f(n.$t("config.create_config")),1),g(ne,{"config-form":r.value},null,8,["config-form"])])):C("",!0),o("div",de,[o("div",he,[v(s)?(c(),Y(Q,{key:0,onFighterSelected:d,"active-fighter":v(s),fighters:v(e)},null,8,["active-fighter","fighters"])):C("",!0)]),g(A,{type:"submit",class:"start",size:"x-large",color:"var(--mk-main-color)"},{default:X(()=>[L(f(n.$t("config.serve")),1)]),_:1})])],32)}}}),ve=w(ge,[["__scopeId","data-v-84edd615"]]);export{ve as default};
